<app-header></app-header>

<div class="qubit-container-background">
  <!-- Contenedor padre que pone lado a lado (flex) ambas secciones -->
  <div class="matrix-flex-container">

    <!-- Columna Izquierda: Configuración + Tabla -->
    <div class="matrix-container">
      <h2>Configuración de Qubits</h2>

      <div class="textbox">
        <input type="number" [(ngModel)]="inputQubits" placeholder=" " required />
        <label>Número de Qubits de Entrada</label>
      </div>

      <div class="textbox">
        <input type="number" [(ngModel)]="outputQubits" placeholder=" " required />
        <label>Número de Qubits de Salida</label>
      </div>

      <button class="btn" (click)="buildMatrix()">Construir Matriz</button>

      <table *ngIf="matrix" class="styled-table">
        <tr>
          <td [attr.colspan]="inputQubits + outputQubits" class="centered-cell">
            <button class="btn" (click)="generatecode()">Generar Código</button>
          </td>
        </tr>
        <tr *ngFor="let row of matrix.values; let rowNumber = index">
          <td *ngFor="let cell of row; let colNumber = index" class="matrix-cell">
            <span
              (click)="negate(rowNumber, colNumber)"
              [style.color]="colNumber < inputQubits ? '#00eeff' : '#ff4d4f'">
              {{ cell }}
            </span>
          </td>
        </tr>
      </table>
    </div>

    <!-- Columna Derecha: Código Generado -->
    <div class="matrix-container">
      <h2>Código Generado</h2>
      <pre class="code-block">
        {{ generatedCode ? generatedCode : "No hay código generado aún." }}
      </pre>
      <div class="textbox">
        <input type="text" [(ngModel)]="circuitName" placeholder=" " required />
        <label>Nombre del Circuito</label>
      </div>
      <button class="btn" (click)="saveCode()">Guardar Código</button>
    </div>

  </div>
</div>

<app-footer></app-footer>
